{"version":3,"sources":["context/userContext.js","components/auth/options.js","components/layout/navbar.js","components/pages/home.js","components/auth/login.js","components/auth/register.js","components/pages/userAccount.js","components/pages/APIClient.js","components/layout/form.js","components/pages/eventList.js","components/pages/createEvent.js","components/pages/editEvent.js","App.js","index.js"],"names":["createContext","Options","useContext","userContext","userData","setUserData","history","useHistory","className","user","onClick","push","token","undefined","localStorage","setItem","Navbar","to","React","Component","Home","Login","useState","username","setUsername","password","setPassword","error","setError","submit","e","a","preventDefault","loginUser","Axios","post","loginRes","data","response","msg","message","clearError","onSubmit","htmlFor","id","type","onChange","target","value","Register","email","setEmail","passwordCheck","setPasswordCheck","newUser","placeholder","UserAccount","url","APIClient","method","axios","headers","this","APICall","eventname","location","info","date","Form","props","currentEvent","client","editEvent","_id","addEvent","then","document","getElementById","reset","refreshList","submitHandler","defaultValue","EventList","state","listItems","getEvents","res","setState","tokenString","getItem","event","deleteEvent","map","current","buildList","createEvent","EditEvent","setCurrentEvent","App","useEffect","get","userRes","checkLoggedIn","Provider","path","exact","component","userAccount","eventList","ReactDOM","render"],"mappings":"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","file":"static/js/main.575a2f8a.chunk.js","sourcesContent":["import {createContext} from 'react'\n\nexport default createContext(null);","import React, {useContext} from 'react'\nimport {useHistory} from \"react-router-dom\"\nimport userContext from \"../../context/userContext\"\n\n\nexport default function Options() {\n\n    const {userData, setUserData} = useContext(userContext);\n\n    const history = useHistory();\n\n    const register = () => history.push(\"/register\")\n    const login = () => history.push(\"/login\")\n    const eventList = () => history.push(\"/eventList\")\n    const userAccount = () => history.push(\"/userAccount\")\n    const logout = () => {\n        setUserData({\n            token: undefined,\n            user: undefined\n        });\n        localStorage.setItem(\"auth-token\", \"\")\n        history.push(\"/\")\n    };\n\n        return (\n            <nav className = \"authOptions\">\n                {\n                    userData.user \n                    ? \n                    ( <> <button onClick ={eventList}> View Events </button>\n                    <button onClick ={userAccount}> Account </button>\n                    <button onClick ={logout}> Log Out </button> </>) \n                    :\n                    ( <> <button onClick ={register}>Register</button>\n                    <button onClick={login}>Log in</button> </>)\n                }           \n            </nav>\n        )\n    }\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport \"./navbar.css\"\nimport Options from '../auth/options'\n\nexport default class Navbar extends React.Component{\n    render() {\n        return (\n            <nav>\n                <div className =\"navbar\">\n                    <Link to=\"/\"> \n                    <h1 className =\"title\">Event App</h1>\n                    </Link>\n                \n                    <Options />\n                </div>\n            </nav>\n        );\n    }\n}","import React, { Component } from 'react';\n\nexport default class Home extends Component {\n    render(){\n        return (\n            <div>\n                <p>Home</p>\n            </div>\n        )\n    }\n}","import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport userContext from \"../../context/userContext\";\nimport Axios from \"axios\";\nimport errorNotice from \"../errorHandling/errorNotice\"\n\nexport default function Login(){\n\n    const [username, setUsername] = useState();\n    const [password, setPassword] = useState();\n    const [error, setError] = useState();\n\n    const { setUserData } = useContext(userContext);\n    const history = useHistory();\n\n    const submit = async (e) => {\n      e.preventDefault();\n      try {\n        const loginUser = { username, password };\n        const loginRes = await Axios.post(\n          \"http://localhost:5000/users/login\",\n          loginUser\n        );\n        setUserData({\n          token: loginRes.data.token,\n          user: loginRes.data.user,\n        });\n        localStorage.setItem(\"auth-token\", loginRes.data.token);\n        history.push(\"/\");\n      } catch (err) {\n        err.response.data.msg && setError(err.response.data.msg);\n      }\n    };\n\n        return (\n            <div>\n                <h2>Login</h2>\n                {error && (\n                   <errorNotice message={error} clearError={() => setError(undefined)} />  \n                )}\n                    <form className=\"form\" onSubmit={submit}>\n\n                    <label htmlFor=\"login-username\">Username</label>\n                    <input\n                    id=\"login-username\"\n                    type=\"text\"\n                    onChange={(e) => setUsername(e.target.value)}\n                    />\n\n                    <label htmlFor=\"login-password\">Password</label>\n                    <input\n                    id=\"login-password\"\n                    type=\"password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                    />\n\n                    <input type=\"submit\" value=\"Login\" />\n                     </form>\n            </div>\n        )\n    \n}","import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport userContext from \"../../context/userContext\";\nimport Axios from \"axios\";\n\nexport default function Register() {\n  const [email, setEmail] = useState();\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const [passwordCheck, setPasswordCheck] = useState();\n  const [error, setError] = useState();\n\n  const { setUserData } = useContext(userContext);\n  const history = useHistory();\n\n  const submit = async (e) => {\n    e.preventDefault();\n    \n    {\n      const newUser = { email, username, password, passwordCheck};\n      await Axios.post(\"http://localhost:5000/users/register\", newUser);\n      const loginRes = await Axios.post(\"http://localhost:5000/users/login\", {\n        username,\n        password,\n      });\n      setUserData({\n        token: loginRes.data.token,\n        user: loginRes.data.user,\n      });\n      localStorage.setItem(\"auth-token\", loginRes.data.token);\n      history.push(\"/\");\n    } \n  };\n\n  return (\n    <div className=\"page\">\n      <h2>Register</h2>\n      {error && (\n        <errorNotice message={error} clearError={() => setError(undefined)} />\n      )}\n      <form className=\"form\" onSubmit={submit}>\n        <label htmlFor=\"register-email\">Email</label>\n        <input\n          id=\"register-email\"\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n\n        <label htmlFor=\"register-username\">Username</label>\n        <input\n          id=\"register-username\"\n          type=\"text\"\n          onChange={(e) => setUsername(e.target.value)}\n        />\n\n        <label htmlFor=\"register-password\">Password</label>\n        <input\n          id=\"register-password\"\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Verify password\"\n          onChange={(e) => setPasswordCheck(e.target.value)}\n        />\n\n        <input type=\"submit\" value=\"Register\" />\n      </form>\n    </div>\n  );\n}","import React, {} from \"react\";\n\nexport default function UserAccount(){\n\n        return (\n\n            <div>\n                <p> User details: </p>\n\n            </div>\n        )\n}","import axios from 'axios';\n\nconst url = \"http://localhost:5000/\"\n\nexport default class APIClient{\n    APICall(method, url, token, data){\n        return axios({method, url, headers:{\"x-auth-token\": token} ,data})\n    }\n    getEvents(token){\n        return this.APICall(\"get\", `${url}events`, token)\n    }\n    addEvent(token, eventname, location, info, date){\n        return this.APICall(\"post\",`${url}events`, token,{eventname, location, info, date}  )\n    }\n    editEvent(token, id, eventname, location, info, date){\n        return this.APICall(\"patch\",`${url}events/${id}`, token,{eventname, location, info, date}  )\n    }\n    deleteEvent(token, id){\n        return this.APICall(\"delete\",`${url}events/${id}`, token)\n    }\n}\n","import React, { Component } from 'react'\nimport './form.css'\n\nexport default class Form extends Component {\n\n    submitHandler(e){\n        e.preventDefault();\n        let result\n        if (this.props.currentEvent){\n            result = this.props.client.editEvent(this.props.token, this.props.currentEvent._id, e.target.eventname.value, e.target.location.value, e.target.info.value, e.target.date.value) \n        } else{\n             result = this.props.client.addEvent(this.props.token, e.target.eventname.value, e.target.location.value, e.target.info.value, e.target.date.value) }\n        result.then(() => {\n        document.getElementById(\"eventform\").reset()\n        this.props.refreshList()\n        })\n    \n    }\n\n    render() {\n        return (\n            <div>\n                <form id=\"eventform\" className=\"form\" onSubmit={(e) => this.submitHandler(e)}>\n\n                    <label htmlFor=\"eventname\">Event Name</label>\n                    <input\n                    id=\"eventname\"\n                    type=\"text\"\n                    defaultValue={this.props.currentEvent?.eventname}\n                    />\n                    <label htmlFor=\"location\">Location</label>\n                    <input\n                    id=\"location\"\n                    type=\"text\"\n                    defaultValue={this.props.currentEvent?.location}\n                    />\n                    <label htmlFor=\"info\">Information</label>\n                    <input\n                    id=\"info\"\n                    type=\"text\"\n                    defaultValue={this.props.currentEvent?.info}\n                    />\n                    <label htmlFor=\"date\">Date</label>\n                    <input\n                    id=\"date\"\n                    type=\"date\"\n                    defaultValue={this.props.currentEvent?.date}\n                    />\n                    <label htmlFor=\"time\">Time</label>\n                    <input\n                    id=\"time\"\n                    type=\"time\"\n                    defaultValue={this.props.currentEvent?.date}\n                    />\n\n                    <input id=\"submit\" type=\"submit\"/>\n\n                </form>\n            </div>\n        )\n    }\n}\n","import React from 'react'\nimport APIClient from \"./APIClient.js\"\nimport './eventList.css'\nimport Form from \"../layout/form\"\n\n\nclass EventList extends React.Component {\n        constructor(props){\n            super(props)\n            this.state ={\n            listItems: [],\n            token: undefined,\n            currentEvent: undefined\n            }\n            this.client = new APIClient();\n        }\n\n        refreshList() {\n            this.client.getEvents(this.state.token)\n            .then((res) => this.setState({listItems: res.data}))\n\n        }\n\n        componentDidMount(){\n            const tokenString = localStorage.getItem(\"auth-token\");\n             this.setState(\n            { token: tokenString || [] }, () => this.refreshList()\n            )\n        }\n\n        editEvent(event) {\n            this.setState({ currentEvent: event })\n          }\n        \n        deleteEvent(id){\n            this.client.deleteEvent(this.state.token,id)\n            .then(() => this.refreshList())\n        }\n\n         buildList() {\n            return this.state.listItems.map((current) => {\n                return (<tr key={current._id}>\n                    <td>{current.eventname}</td>\n                    <td>{current.location}</td>\n                    <td>{current.info}</td>\n                    <td>{(current.date)}</td>\n                    <td><button onClick={() => this.editEvent(current)}> Edit Event </button></td>\n                    <td><button onClick={() => this.deleteEvent(current._id)}> Delete Event </button></td>\n                    </tr>\n                    )\n            })\n        }\n        render() {\n        return (\n            <div>\n                <p> Events: </p>\n                <table>\n                    <thead><tr>\n                        <td>Event Name</td>\n                        <td>Location</td>\n                        <td>Information</td>\n                        <td>Date</td>\n                        <td>Edit</td>\n                        <td>Delete</td>\n                        </tr></thead>\n                    <tbody>\n                        {this.buildList()} \n                    </tbody>\n                        \n                </table>\n                <Form token={this.state.token} \n                client={this.client} \n                refreshList = { () => {\n                    this.refreshList()\n                    this.setState({\n                    currentEvent: undefined\n                    })\n                }}\n                currentEvent={this.state.currentEvent} />\n            </div>\n        )\n    } \n}\n\nexport default EventList","import React, { Component } from 'react';\n\nexport default class createEvent extends Component {\n    render(){\n        return (\n            <div>\n                <p> Event Creation </p>\n            </div>\n        )\n    }\n}","import React, {useState} from 'react';\nimport Form from \"../layout/form\";\nimport APIClient from \"../pages/APIClient\"\n \n\n\nexport default function EditEvent(e){\n    setCurrentEvent(e)\n\n        const [currentEvent, setCurrentEvent] = useState([])\n        const [token, setToken] = useState(\"\")\n        const client = new APIClient();\n\n        return (\n            <div>\n                <p> Event editor </p>\n                <Form token={this.state.token} \n                client={this.client} \n                refreshList = { () => {\n                    this.refreshList()\n                    this.setState({\n                    currentEvent: undefined\n                    })\n                }}\n                currentEvent={this.state.currentEvent} />\n            </div>\n        )\n }","import React, {useState, useEffect} from 'react';\nimport {BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport Axios from 'axios';\nimport Navbar from \"./components/layout/navbar\";\nimport Home from \"./components/pages/home\";\nimport Login from \"./components/auth/login\";\nimport Register from \"./components/auth/register\";\nimport userAccount from \"./components/pages/userAccount\"\nimport eventList from \"./components/pages/eventList\"\nimport createEvent from \"./components/pages/createEvent\"\nimport editEvent from \"./components/pages/editEvent\"\nimport userContext from \"./context/userContext\"\n\n\nexport default function App() {\n        const [userData, setUserData] = useState ({\n            token: undefined,\n            user: undefined\n        });\n        \n        useEffect(() => {\n            const checkLoggedIn = async () => {\n              let token = localStorage.getItem(\"auth-token\");\n              if (token === null) {\n                localStorage.setItem(\"auth-token\", \"\");\n                token = \"\";\n              }\n              const tokenRes = await Axios.post(\n                \"http://localhost:5000/users/tokenIsValid\",\n                null,\n                { headers: { \"x-auth-token\": token } }\n              );\n              if (tokenRes.data) {\n                const userRes = await Axios.get(\"http://localhost:5000/users/\", {\n                  headers: { \"x-auth-token\": token },\n                });\n                setUserData({\n                  token,\n                  user: userRes.data,\n                });\n              }\n            };\n        \n            checkLoggedIn();\n          }, []);\n\n        return(\n            <Router>\n             <userContext.Provider value ={{userData, setUserData}}>\n                <Navbar />\n                <br/>\n                <Switch>\n                    <Route path=\"/\" exact component={Home} />\n                    <Route path=\"/login\" component={Login} />\n                    <Route path=\"/register\" component={Register} />\n                    <Route path=\"/userAccount\" component={userAccount} />\n                    <Route path=\"/eventList\" component={eventList} />\n                    <Route path=\"/createEvent\" component={createEvent} />\n                    <Route path=\"/editEvent\" component={editEvent} />\n                </Switch>\n             </userContext.Provider>\n            </Router>\n        )\n    }\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}